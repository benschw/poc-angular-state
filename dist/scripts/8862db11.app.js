(function(){function d(){this.b||(this.b=new e);return this.b}d.$inject=[];function e(){this.a=f}var f="F";e.prototype.a="";function g(a){return function(c){return c+" \u00b0"+a.a}};g.$inject=["TemperatureUnitState"];angular.module("WeatherApp.filters",["WeatherApp.state"]);angular.module("WeatherApp.filters").filter("IncludeUnitsFilter",g);function h(a){a.defaults.f=!0;this.c=a}h.prototype.c=null;h.prototype.get=function(a){return this.c.get("http://demo.local/api/city/:cityId".replace(":cityId",a.id))};function k(a){this.b||(this.b=new h(a));return this.b}k.$inject=["$http"];function m(a,c,b,s){b.get({id:c.cityId}).success(function(b){b.temp=function(){return"F"==s.a?b.temp_f:b.temp_c};b.iconUrl="http://forecast.weather.gov/images/wtf/large/"+b.icon_url_name;a.cityForecast=b}).error(function(){a.errorMessage='Error loading weather for city ":cityId".'.replace(":cityId",c.e)})}m.$inject=["$scope","$routeParams","CityForecast","TemperatureUnitState"];function n(a){function c(){}c.d=function(b){a({method:"GET",url:"http://demo.local/api/cities"}).success(function(a){b.success(a)}).error(function(a,c){b.error(a,c)})};c.city=function(b){a({method:"GET",url:"api/city/:cityId".replace(":cityId",b.e)}).success(function(a){b.success(a)}).error(function(a,c){b.error(a,c)})};return c}n.$inject=["$http"];function p(a,c,b){c.d({success:function(c){var l=[];c.forEach(function(a){a.temp=function(){return"F"==b.a?a.temp_f:a.temp_c};a.iconUrl="http://forecast.weather.gov/images/wtf/medium/"+a.icon_url_name;l.push(a)});a.citiesForecast=l},error:function(){a.errorMessage="Error loading weather listings data."}})}p.$inject=["$scope","WeatherService","TemperatureUnitState"];angular.module("WeatherApp.services",[]);angular.module("WeatherApp.services").factory("WeatherService",n);angular.module("WeatherApp.services").factory("CityForecast",k);angular.module("WeatherApp.controllers",["WeatherApp.services","WeatherApp.state","WeatherApp.filters","ngResource"]);angular.module("WeatherApp.controllers").controller("CityDetailsController",m);angular.module("WeatherApp.controllers").controller("AllCitiesController",p);angular.module("WeatherApp.state",[]);angular.module("WeatherApp.state").factory("TemperatureUnitState",d);function q(a){return function(c){c.changeTempPref=function(b){a.a=b;c.tempfmt=b};c.active=function(b){if(a.a===b)return"active"}}}q.$inject=["TemperatureUnitState"];angular.module("WeatherApp.directives",["WeatherApp.state"]);angular.module("WeatherApp.directives").directive("userPreferences",q);function r(a){a.when("/",{templateUrl:"/views/all-cities.html",controller:"AllCitiesController"}).when("/city-details/:cityId",{templateUrl:"/views/city-details.html",controller:"CityDetailsController"}).otherwise({redirectTo:"/"})}r.$inject=["$routeProvider"];angular.module("WeatherApp",["WeatherApp.controllers","WeatherApp.services","WeatherApp.directives"]);angular.module("WeatherApp").config(r);})();
